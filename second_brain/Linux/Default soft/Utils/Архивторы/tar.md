Команда tar используется для создания, извлечения и управления архивами файлов. Часто применяется в связке с сжатием (gzip, bzip2, xz).

## **Основные ключи команды tar**

| **Ключ**      | **Описание**                                                                                                             | **Пример использования**             |
| ------------- | ------------------------------------------------------------------------------------------------------------------------ | ------------------------------------ |
| -c            | Создать новый архив                                                                                                      | tar -cf archive.tar file1 file2      |
| -x            | Извлечь файлы из архива                                                                                                  | tar -xf archive.tar                  |
| -t            | Показать содержимое архива                                                                                               | tar -tf archive.tar                  |
| -v            | Выводить процесс выполнения (verbose)                                                                                    | tar -cvf archive.tar file1 file2     |
| -f            | Указать имя файла архива (должен быть последним перед именем архива)                                                     | tar -cf archive.tar file1            |
| -z            | Использовать сжатие через gzip (.tar.gz)                                                                                 | tar -czf archive.tar.gz file1 file2  |
| -j            | Использовать сжатие через bzip2 (.tar.bz2)                                                                               | tar -cjf archive.tar.bz2 file1 file2 |
| -J            | Использовать сжатие через xz (.tar.xz)                                                                                   | tar -cJf archive.tar.xz file1 file2  |
| --delete      | Удалить файл из архива (без сжатия!)                                                                                     | tar --delete -f archive.tar file1    |
| --append (-r) | Добавить файлы в конец архива                                                                                            | tar -rf archive.tar newfile          |
| --update (-u) | Обновить файлы в архиве (если они изменились)                                                                            | tar -uf archive.tar file1            |
| -cf -         | tar создает архив (c — **create**), записывает его в стандартный вывод (f -, где - — значит писать в поток вместо файла) | tar cf - /etc/hosts                  |

## **Примеры использования команды tar**

### **Создание архива без сжатия**
```
tar -cf archive.tar file1.txt file2.txt
```
Создаёт архив archive.tar из файлов file1.txt и file2.txt.

### **Создание архива с сжатием через gzip**
```
tar -czf archive.tar.gz dir/
```
Создаёт сжатый архив archive.tar.gz из каталога dir/.

### **Распаковка архива**
```
tar -xf archive.tar
```
Распаковывает содержимое archive.tar в текущую директорию.

### **Распаковка архива с автоматическим определением формата**
```
tar -xvf archive.tar.gz
```
Распаковывает и сразу распознает сжатие (-z добавляется автоматически с GNU tar).

### **Просмотр содержимого архива**
```
tar -tf archive.tar
```
Выводит список файлов в архиве.

### **Добавление файла в уже существующий архив**
```
tar -rf archive.tar additional_file.txt
```
Добавляет additional_file.txt в archive.tar.

### **Удаление файла из архива**
```
tar --delete -f archive.tar unwanted_file.txt
```
Удаляет unwanted_file.txt из архива archive.tar.

**Важно:** Удаление работает только с несжатыми .tar архивами!

### **Архивация и передача по SSH**
```
tar -czf - /path/to/dir | ssh user@remote "tar -xzf - -C /destination/path"
```
Создание архива локально и его передача и распаковка на удалённой машине без промежуточного сохранения.
