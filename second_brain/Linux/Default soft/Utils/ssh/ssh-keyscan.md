Утилита ssh-keyscan используется для **быстрого получения публичных SSH-ключей удалённых серверов**.

Её основное назначение — собрать ключи хостов и добавить их в файл known_hosts, чтобы SSH-клиент не задавал вопрос:

### **Основные ключи команды ssh-keyscan**

|**Ключ**|**Описание**|
|---|---|
|-t|Указывает тип ключа (например, rsa, ecdsa, ed25519).|
|-p|Задаёт порт, на который отправляется запрос (по умолчанию 22).|
|-f|Читает список хостов из файла вместо передачи через аргументы.|
|-H|Выводит хэши вместо реальных имён хостов для защиты приватности.|
|-v|Включает подробный (verbose) вывод для отладки.|
|-4|Принудительно использовать IPv4.|
|-6|Принудительно использовать IPv6.|
|-T|Устанавливает таймаут в секундах для соединения.|
|-l|Указывает длину (битность) ключа. Используется с некоторыми типами.|
|-c|Запрашивает только сертификатные ключи.|
|-q|Подавляет предупреждения.|

### **Примеры использования ssh-keyscan**

#### **Сканировать SSH-ключи с хоста**
```
ssh-keyscan example.com
```

#### **Сканировать с указанием порта**
```
ssh-keyscan -p 2222 example.com
```

#### **Сканировать только RSA-ключи**
```
ssh-keyscan -t rsa example.com
```

#### **Сканировать с выводом в формате known_hosts (с хэшами)**
```
ssh-keyscan -H example.com
```

#### **Сканировать сразу несколько хостов, указанных в файле**
```
ssh-keyscan -f hosts.txt
```
_где_ _hosts.txt_ _содержит список хостов, например:_
```
example.com
server.local
192.168.1.1
```

#### **Сканировать с принудительным использованием IPv4**
```
ssh-keyscan -4 example.com
```

#### **Сканировать с установкой таймаута 10 секунд**
```
ssh-keyscan -T 10 example.com
```

#### **Записать результаты в файл known_hosts**
```
ssh-keyscan example.com >> ~/.ssh/known_hosts
```
