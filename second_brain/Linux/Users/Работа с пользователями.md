
   `/etc/passwd` — хранит общую информацию о пользователях.

   `ubuntu:x:1000:1000::/home/ubuntu:/bin/bash`
   
   1. `ubuntu` — имя пользователя, которое также используется при подключении к системе или входе в систему.
   2. `x` — это поле, которое содержит информацию о пароле. `x` означает, что пароль хранится в захэшированном виде в файле `shadow` . Так же возможны значения `*` и `!`. `*` означает, что пользователь не может входить в систему при помощи пароля (но может подключаться к ней используя SSH ключи), а `!` означает, что пользователь заблокирован. Также значение может быть пустым, означает, что пароль не требуется.
  3. `1000` — идентификатор пользователя (UID) — номерное значение, которое привязано к пользователю.
  4. `1000` — идентификатор основной группы (GID) — номерное значение основной группы, к которой привязан пользователь.
  5. `""` — это поле, также известное как GECOS, отвечает за информацию о пользователе. Оно может содержать такую информацию, как имя, фамилию, номер телефона и прочее. 
  6. `/home/ubuntu` — домашняя директория пользователя.
  7. `/bin/bash` — командная оболочка пользователя. В случае системных учётных записей можно часто увидеть здесь команду `nologin`, которая используются как заглушка и как бы намекает, что командную оболочку от этих пользователей запускать не надо (но это не значит, что нельзя).

   `/etc/shadow` — хранит зашифрованные пароли пользователей (поддерживается не всеми дистрибутивами).
   `ubuntu:$6$j9T$bbsJulx4B71wJmVubG.oI1$PFFQa97FzjwmxkQaUOZVWnG7CtzYfGTNFeo5X87d/69:16504:0:99999:7:::`

1. `ubuntu` — имя пользователя, с которым связана запись с паролем.
2. `$6$HJReYA.p$0/T...` — пароль, точнее его захэшированная форма. Данная форма позволяет хранить пароль не в открытом читаемом виде, а в зашифрованном. При входе в систему введённый пароль пользователя дополняется «солью» (salt — часть строки после второго знака`$`— в нашем случае `H6ReYA.p`). Затем переводится алгоритмом шифрования, который определяется значением после первого`$`— в данном случае 6 означает SHA-512. Полученная строка сравнивается с указанной после третьего знака`$.` Если значения совпадают, то пользователь ввёл верный пароль.
3. `16504` — дата, когда пользователь менял пароль в последний раз, в виде количества дней с unix epoch (1 января 1970 года). Значение 0 в этом поле означает, что пароль необходимо поменять при следующем подключении.
4. `0` — минимальное количество дней перед сменой пароля.
5. `99999` — максимальное количество дней перед сменой пароля. После этого аккаунт блокируется, и разблокировать его может только администратор.
6. `7` — за сколько дней предупреждать пользователя о необходимости сменить пароль.
7. `""` — количество дней с отсутствия активности на аккаунте (часто остаётся пустым).
8. `""` — количество дней со дня окончания пароля пользователя.


Для управления пользователями существует ряд команд:

1. [[useradd]] — создать нового пользователя в системе.
2. [[usermod]] — изменить настройки для существующего пользователя.
3. [[userdel]] — удалить пользователей.
4. [[chsh]] - изменить шелл существующему пользователю.
5. [[chfn]] - изменить имя существующему пользователю и информацию о нем.
6. [[passwd]] - установка и смена пароля
7. [[chpasswd]] - смена пароля в скриптах

-----

- [useradd vs adduser](https://linuxhandbook.com/useradd-vs-adduser/)
- [Understanding /etc/passwd File Format](https://www.cyberciti.biz/faq/understanding-etcpasswd-file-format/)
- [Understanding /etc/shadow file format on Linux](https://www.cyberciti.biz/faq/understanding-etcshadow-file/)

----

[[Работа с группами]]