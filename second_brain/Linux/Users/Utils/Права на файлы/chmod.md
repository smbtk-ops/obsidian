#  **изменение прав доступа к файлам и директориям**

Команда chmod (от **ch**ange **mod**e) используется для изменения прав доступа (разрешений) на файлы и директории в Linux/Unix-системах.

## **Основной синтаксис**
```
chmod [опции] режим файл
```
- **режим** — права доступа в символьной (u+x, go-w) или числовой (755, 644) форме.
- **файл** — имя файла или директории.
---
### **Основные ключи команды chmod**

|**Ключ**|**Описание**|**Пример**|
|---|---|---|
|-R|Рекурсивно изменяет права доступа для директорий и их содержимого|chmod -R 755 /var/www|
|-v|Выводит информацию о каждом изменённом файле|chmod -v 644 file.txt|
|-c|Пишет сообщение только для изменённых файлов|chmod -c 600 secret.txt|
|--reference=ФАЙЛ|Копирует права доступа с другого файла|chmod --reference=example.txt file.txt|
|--preserve-root|Защищает корневую директорию / от изменений (по умолчанию в GNU)|Используется вместе с -R, например: chmod --preserve-root -R 755 /|

---
### **Форматы задания прав**
- **Символьный режим**:
    - `u` — владелец (**user**)
    - `g` — группа (**group**)
    - `o` — остальные (**others**)
    - `a` — все категории (**all**)
    
    **Действия**:
    - `+` — добавить право
    - `-` — убрать право
    - `=` — установить права точно
    
- **Числовой режим**:
    - `4` — чтение (**r**)
    - `2` — запись (**w**)
    - `1` — исполнение (**x**)
    
    Складываются:
    - `7` = 4+2+1 = чтение + запись + исполнение
    - `6` = 4+2 = чтение + запись
    - `5` = 4+1 = чтение + исполнение
    - `0` = нет прав

---
### **Примеры использования chmod**

| **Описание**                                                         | **Команда**                                                                                              |
| -------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| Установить права rwxr-xr-x (755) на файл                             | chmod 755 script.sh                                                                                      |
| Запретить группе и другим пользователям доступ к файлу               | chmod go-rwx secret.txt                                                                                  |
| Добавить право на исполнение для владельца                           | chmod u+x program.sh                                                                                     |
| Установить права только на чтение для всех                           | chmod 444 document.txt                                                                                   |
| Скопировать права с одного файла на другой                           | chmod --reference=source.txt target.txt                                                                  |
| Рекурсивно установить права 644 на все файлы и 755 на все директории | _(чуть сложнее)_ bash find /path -type d -exec chmod 755 {} + && find /path -type f -exec chmod 644 {} + |
