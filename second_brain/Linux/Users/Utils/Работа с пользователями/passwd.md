Команда passwd используется для **изменения паролей пользователей** и управления политиками паролей.

## ** Ключи команды passwd**

| **Ключ**   | **Описание**                                                                   |
| ---------- | ------------------------------------------------------------------------------ |
| -d         | Удаляет пароль пользователя (разрешает вход без пароля)                        |
| -e         | Немедленно делает пароль просроченным — заставляет сменить при следующем входе |
| -i DAYS    | Кол-во дней после просрочки, через которое аккаунт будет отключён              |
| -l         | Блокирует аккаунт (невозможно войти, пока не будет разблокирован)              |
| -u         | Разблокирует ранее заблокированный аккаунт                                     |
| -n DAYS    | Минимальное количество дней между сменами пароля                               |
| -x DAYS    | Максимальное количество дней действия пароля                                   |
| -w DAYS    | Кол-во дней до истечения срока, когда начнётся предупреждение                  |
| -S         | Показывает статус пароля (защищён/заблокирован/дата смены и т.д.)              |
| [username] | Меняет пароль указанного пользователя (root)                                   |

## ** Примеры использования passwd**
### **Сменить пароль текущего пользователя**
```
passwd
```
Запрашивает текущий и новый пароль.

### **Сменить пароль другого пользователя (root)**
```
sudo passwd username
```

### **Сброс пароля (удалить)**
```
sudo passwd -d username
```
Пользователь сможет войти **без пароля** (если разрешено PAM).

### **Заставить сменить пароль при следующем входе**
```
sudo passwd -e username
```

### **Блокировка и разблокировка пользователя**
```
sudo passwd -l username   # Заблокировать
sudo passwd -u username   # Разблокировать
```
Блокировка добавляет ! перед хэшем в /etc/shadow.

### **Установка политики срока действия пароля**
```
sudo passwd -n 5 -x 30 -w 7 username
```
- минимум 5 дней между сменами
- максимум 30 дней действия
- за 7 дней до истечения — предупреждение

### **Показать статус пароля пользователя**
```
sudo passwd -S username
```
Пример вывода:
```
username P 04/24/2025 0 99999 7 -1
```
P — пароль установлен, L — заблокирован, NP — нет пароля.
